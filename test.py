import streamlit as st
import random

st.title("ğŸ‹ï¸ ë§ì¶¤í˜• ìš´ë™ ì¢…ëª© ì¶”ì²œ ì•±")

st.subheader("ë‹¹ì‹ ì˜ ë¼ì´í”„ìŠ¤íƒ€ì¼ì— ë§ëŠ” ìš´ë™ì„ ì°¾ì•„ë“œë¦´ê²Œìš”!")

# 1. ì‚¬ìš©ì ì§ˆë¬¸
goal = st.selectbox("ìš´ë™ ëª©ì ì„ ì„ íƒí•˜ì„¸ìš”", 
    ["ì²´ì¤‘ ê°ëŸ‰", "ê·¼ë ¥ ê°•í™”", "ì²´ë ¥ í–¥ìƒ", "ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ", "ìœ ì—°ì„± í–¥ìƒ"])

place = st.radio("ì„ í˜¸í•˜ëŠ” ìš´ë™ ì¥ì†ŒëŠ”?", ["ì‹¤ë‚´", "ì‹¤ì™¸", "ìƒê´€ì—†ìŒ"])
intensity = st.slider("ìš´ë™ ê°•ë„ (1=ê°€ë³ê²Œ ~ 5=ê°•í•˜ê²Œ)", 1, 5, 3)
time = st.selectbox("í•˜ë£¨ ìš´ë™ ê°€ëŠ¥ ì‹œê°„ì€?", ["30ë¶„ ë¯¸ë§Œ", "30ë¶„~1ì‹œê°„", "1ì‹œê°„ ì´ìƒ"])
partner = st.radio("ìš´ë™ì„ ëˆ„êµ¬ì™€ í•˜ê³  ì‹¶ìœ¼ì„¸ìš”?", ["í˜¼ì", "ì¹œêµ¬/íŒ€", "ìƒê´€ì—†ìŒ"])
equipment = st.radio("ìš´ë™ ì‹œ ì¥ë¹„ ì‚¬ìš© ì—¬ë¶€ëŠ”?", ["ì¥ë¹„ í•„ìš” ì—†ìŒ", "ê°„ë‹¨í•œ ì†Œë„êµ¬ ì‚¬ìš©", "í—¬ìŠ¤ì¥ ê¸°êµ¬ ì‚¬ìš© ê°€ëŠ¥"])
risk = st.selectbox("ìš´ë™ì—ì„œ í—ˆìš©í•  ìˆ˜ ìˆëŠ” ë¶€ìƒ ìœ„í—˜ ì •ë„ëŠ”?", ["ë‚®ìŒ (ì•ˆì „ ì¤‘ìš”)", "ë³´í†µ", "ë†’ìŒ (ë„ì „ì )"])
frequency = st.selectbox("ì£¼ë‹¹ ìš´ë™ íšŸìˆ˜ëŠ”?", ["1~2íšŒ", "3~4íšŒ", "5íšŒ ì´ìƒ"])

# 2. ìš´ë™ ë°ì´í„° (ì¢…ëª©: {ë‚œì´ë„, ì„¤ëª…})
exercise_dict = {
    "ì²´ì¤‘ ê°ëŸ‰": {
        "ëŸ°ë‹": {"ë‚œì´ë„": "â­â­", "ì„¤ëª…": "ìœ ì‚°ì†Œ ìš´ë™ì˜ ëŒ€í‘œ ì£¼ì, ì¹¼ë¡œë¦¬ ì†Œëª¨ì— íš¨ê³¼ì "},
        "ìì „ê±° íƒ€ê¸°": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "í•˜ì²´ ê·¼ë ¥ì„ ê°•í™”í•˜ë©° ì¥ì‹œê°„ ì¦ê¸¸ ìˆ˜ ìˆìŒ"},
        "ìˆ˜ì˜": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì „ì‹  ìš´ë™ìœ¼ë¡œ ê´€ì ˆì— ë¬´ë¦¬ ì—†ì´ ì²´ì§€ë°© ê°ëŸ‰ ê°€ëŠ¥"},
        "ì¤„ë„˜ê¸°": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ì§§ì€ ì‹œê°„ì— ë§ì€ ì¹¼ë¡œë¦¬ë¥¼ íƒœìš¸ ìˆ˜ ìˆëŠ” ê³ ê°•ë„ ìš´ë™"},
        "ìŠ¤í”¼ë‹": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ì‹¤ë‚´ì—ì„œ ìŒì•…ê³¼ í•¨ê»˜ ì¦ê¸°ëŠ” ê°•ë„ ë†’ì€ ì‚¬ì´í´ ìš´ë™"}
    },
    "ê·¼ë ¥ ê°•í™”": {
        "ì›¨ì´íŠ¸ íŠ¸ë ˆì´ë‹": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ê·¼ìœ¡ëŸ‰ ì¦ê°€ì™€ ì²´í˜• ê°œì„ ì— íš¨ê³¼ì "},
        "í•„ë¼í…ŒìŠ¤": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì½”ì–´ ê°•í™”ì™€ ìœ ì—°ì„± í–¥ìƒì— ë„ì›€"},
        "í‘¸ì‰¬ì—…/ìŠ¤ì¿¼íŠ¸": {"ë‚œì´ë„": "â­â­", "ì„¤ëª…": "ë§¨ëª¸ìœ¼ë¡œ ì–¸ì œë“  í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ê·¼ë ¥ ìš´ë™"},
        "í¬ë¡œìŠ¤í•": {"ë‚œì´ë„": "â­â­â­â­â­", "ì„¤ëª…": "ê³ ê°•ë„ ê·¼ë ¥Â·ì²´ë ¥ ì¢…í•© í›ˆë ¨"},
        "ì¼€í‹€ë²¨ ìš´ë™": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì „ì‹  ê·¼ìœ¡ì„ ì‚¬ìš©í•˜ëŠ” ê·¼ë ¥+ìœ ì‚°ì†Œ ë³µí•© ìš´ë™"}
    },
    "ì²´ë ¥ í–¥ìƒ": {
        "ë“±ì‚°": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ìœ ì‚°ì†Œì™€ ê·¼ì§€êµ¬ë ¥ì„ ë™ì‹œì— í–¥ìƒ"},
        "ë³µì‹±": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ì‹¬í ì§€êµ¬ë ¥ í–¥ìƒê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œì— íƒì›”"},
        "ë†êµ¬": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ìˆœë°œë ¥ê³¼ ì²´ë ¥, í˜‘ë™ì‹¬ì„ ê¸°ë¥´ëŠ” íŒ€ ìš´ë™"},
        "ì¶•êµ¬": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ì „ì‹  ì§€êµ¬ë ¥ í–¥ìƒ, ì²´ì¤‘ ê°ëŸ‰ì—ë„ íš¨ê³¼"},
        "ë¡œì‰ë¨¸ì‹ ": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì „ì‹ ì„ ì‚¬ìš©í•˜ëŠ” ì‹¤ë‚´ ì§€êµ¬ë ¥ ìš´ë™"}
    },
    "ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ": {
        "ìš”ê°€": {"ë‚œì´ë„": "â­", "ì„¤ëª…": "í˜¸í¡ê³¼ ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ì‹¬ì‹  ì•ˆì • íš¨ê³¼"},
        "ëŒ„ìŠ¤": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ìŒì•…ê³¼ í•¨ê»˜ ì¦ê¸°ëŠ” ìœ ì‚°ì†Œ ìš´ë™"},
        "í…Œë‹ˆìŠ¤": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì „ì‹ ì„ í™œìš©í•œ ë ˆì € ìŠ¤í¬ì¸ "},
        "í´ë¼ì´ë°": {"ë‚œì´ë„": "â­â­â­â­", "ì„¤ëª…": "ê·¼ë ¥ê³¼ ì§‘ì¤‘ë ¥ì„ ë™ì‹œì— ê¸°ë¥´ëŠ” ìŠ¤í¬ì¸ "},
        "ëª…ìƒ ìŠ¤íŠ¸ë ˆì¹­": {"ë‚œì´ë„": "â­", "ì„¤ëª…": "ê¸´ì¥ì„ í’€ê³  ë§ˆìŒì„ ì§„ì •ì‹œí‚¤ëŠ” íë§ ìš´ë™"}
    },
    "ìœ ì—°ì„± í–¥ìƒ": {
        "ìŠ¤íŠ¸ë ˆì¹­ ë£¨í‹´": {"ë‚œì´ë„": "â­", "ì„¤ëª…": "ë§¤ì¼ ê°„ë‹¨íˆ í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ìœ ì—°ì„± ìš´ë™"},
        "ì—ì–´ë¦¬ì–¼ ìš”ê°€": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ê³µì¤‘ì—ì„œ í•˜ëŠ” ìš”ê°€ë¡œ ê·¼ë ¥ê³¼ ìœ ì—°ì„±ì„ ë™ì‹œì— í–¥ìƒ"},
        "ì²´ì¡°": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ê· í˜•ê°ê°ê³¼ ìœ ì—°ì„±, ê·¼ë ¥ì„ ëª¨ë‘ ê¸°ë¥´ëŠ” ìš´ë™"},
        "ëŒ„ìŠ¤ ìŠ¤íŠ¸ë ˆì¹­": {"ë‚œì´ë„": "â­â­", "ì„¤ëª…": "ëŒ„ìŠ¤ ë™ì‘ê³¼ ìŠ¤íŠ¸ë ˆì¹­ì„ ê²°í•©í•œ ìš´ë™"},
        "í•„ë¼í…ŒìŠ¤": {"ë‚œì´ë„": "â­â­â­", "ì„¤ëª…": "ì½”ì–´ ì•ˆì •ì„±ê³¼ ìœ ì—°ì„±ì„ ê°•í™”"}
    }
}

# 3. ì¶”ì²œ ë¡œì§
choice_list = list(exercise_dict[goal].keys())
recommended = random.choice(choice_list)
info = exercise_dict[goal][recommended]

# ì¡°ê±´ ê¸°ë°˜ ë©”ì‹œì§€
extra_msg = []
if partner == "í˜¼ì":
    extra_msg.append("í˜¼ìì„œë„ ì¶©ë¶„íˆ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš”.")
elif partner == "ì¹œêµ¬/íŒ€":
    extra_msg.append("íŒ€ê³¼ í•¨ê»˜í•˜ë©´ ë” ì¬ë¯¸ìˆì„ ê±°ì˜ˆìš”!")

if equipment == "ì¥ë¹„ í•„ìš” ì—†ìŒ":
    extra_msg.append("ë³„ë„ì˜ ì¥ë¹„ ì—†ì´ ë°”ë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
elif equipment == "í—¬ìŠ¤ì¥ ê¸°êµ¬ ì‚¬ìš© ê°€ëŠ¥":
    extra_msg.append("ì „ë¬¸ì ì¸ ê¸°êµ¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆì–´ìš”!")

if risk == "ë‚®ìŒ (ì•ˆì „ ì¤‘ìš”)" and info["ë‚œì´ë„"].count("â­") >= 4:
    extra_msg.append("ê³ ê°•ë„ ìš´ë™ì´ë¯€ë¡œ ë¬´ë¦¬í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.")

# 4. ê²°ê³¼ ì¶œë ¥
st.subheader("âœ¨ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ìš´ë™ âœ¨")
st.write(f"ğŸ‘‰ ì¶”ì²œ ìš´ë™: **{recommended}**")
st.write(f"ğŸ“Œ ë‚œì´ë„: {info['ë‚œì´ë„']}")
st.write(f"â„¹ï¸ ì„¤ëª…: {info['ì„¤ëª…']}")
if extra_msg:
    st.info("ì¶”ê°€ íŒ: " + " ".join(extra_msg))

st.success("ê¾¸ì¤€íˆ ì‹¤ì²œí•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤ ğŸ’ª")

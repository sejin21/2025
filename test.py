import streamlit as st
import random

st.title("🏋️ 맞춤형 운동 추천 앱")

st.write("아래 질문에 답하면, 당신에게 맞는 운동 종목을 추천해드릴게요!")

# 운동 데이터 (분야별, 여러 종목 + 난이도 + 설명)
exercises = {
    "근력 강화": [
        {"이름": "웨이트 트레이닝", "난이도": "⭐⭐⭐⭐", "설명": "근육량 증가와 체형 개선에 효과적"},
        {"이름": "필라테스", "난이도": "⭐⭐⭐", "설명": "코어 강화와 유연성 향상에 도움"},
        {"이름": "푸쉬업/스쿼트", "난이도": "⭐⭐", "설명": "맨몸으로 언제든 할 수 있는 기본 근력 운동"},
        {"이름": "크로스핏", "난이도": "⭐⭐⭐⭐⭐", "설명": "고강도 근력·체력 종합 훈련"},
    ],
    "유산소": [
        {"이름": "조깅", "난이도": "⭐⭐", "설명": "심폐지구력 향상에 도움"},
        {"이름": "자전거 타기", "난이도": "⭐⭐⭐", "설명": "체력 증진과 하체 강화에 효과적"},
        {"이름": "줄넘기", "난이도": "⭐⭐⭐", "설명": "짧은 시간에 칼로리 소모 효과가 큼"},
        {"이름": "수영", "난이도": "⭐⭐⭐⭐", "설명": "전신 운동으로 체지방 감량에 효과적"},
    ],
    "유연성/균형": [
        {"이름": "요가", "난이도": "⭐⭐⭐", "설명": "몸과 마음의 안정, 유연성 강화"},
        {"이름": "스트레칭", "난이도": "⭐", "설명": "부상 방지 및 피로 회복에 도움"},
        {"이름": "발레핏", "난이도": "⭐⭐⭐", "설명": "유연성과 근력 균형 강화"},
    ],
    "단체/레저": [
        {"이름": "축구", "난이도": "⭐⭐⭐⭐", "설명": "체력과 협동심을 기르는 대표적인 구기 운동"},
        {"이름": "농구", "난이도": "⭐⭐⭐⭐", "설명": "점프력, 순발력, 협동심 향상"},
        {"이름": "배드민턴", "난이도": "⭐⭐⭐", "설명": "가볍게 즐길 수 있으면서도 전신 운동 효과"},
        {"이름": "등산", "난이도": "⭐⭐⭐", "설명": "지구력 향상과 자연 속 힐링"},
    ]
}

# 입력 폼
with st.form("exercise_form"):
    age = st.slider("나이를 선택하세요", 10, 70, 20)
    purpose = st.selectbox("운동 목적은 무엇인가요?", ["근력 강화", "유산소", "유연성/균형", "단체/레저"])
    intensity = st.radio("운동 강도를 어떻게 하고 싶으신가요?", ["가볍게", "보통", "강하게"])
    place = st.radio("운동 장소는 어디를 선호하시나요?", ["실내", "실외", "상관없음"])

    submitted = st.form_submit_button("✅ 운동 추천 받기")

# 제출 후 결과 출력
if submitted:
    st.subheader("🎯 추천 운동 종목")
    candidates = exercises[purpose]
    # 2~3개 랜덤 추천
    recommendations = random.sample(candidates, k=min(3, len(candidates)))

    for rec in recommendations:
        st.markdown(f"""
        **{rec['이름']}**  
        난이도: {rec['난이도']}  
        설명: {rec['설명']}  
        """)

